---
title: Rive 튜토리얼 - Ch.6 상태 머신
date: 2025-07-23 11:23:00 +0900
categories: Rive
tags: ["Rive", "공부"]
---

## 6.1 본 개요Bones Overview
- Rive에서 리깅 - 뼈대를 기준으로 움직이게 하기 위해서는 본Bones이 필요하다.

![](img/rive_ch6/bone_button.png)

- 해당 버튼을 누르거나 단축키 `B`를 통해서 본을 만들 수 있다.
- 아트보드의 아무데나 클릭하면 클릭한 곳을 기준으로 생성된 파란색의 본을 확인할 수 있다. (파란색 = 현재 선택)
- 계속해서 클릭하면 다른 본을 추가할 수 있다. 후에 생성된 본은 이전 본의 아이 관계다.
- `ESC`나 `B`키를 통해 본 생성을 멈출 수 있다.
- 루트 (맨 상위에 있는 부모) 본은 위치 속성이 있지만, 다른 아이 본은 그렇지 않다.
- 다시 본을 연속해서 만들고 싶으면 시작하고 싶은 본의 작은 원형 부분=연결 부분을 클릭하고 단축키 `B`를 눌러 생성하면 된다.
- 연결 부분은 본의 각도, 크기를 변경할 수 있다.
- 하이어라키를 통해 자유롭게 루트 본을 설정할 수 있다.

![](img/rive_ch6/simpl_bones.png)

## 6.2 계측정 연결의 본Bones with hierarchical connections
만든 디자인과 본을 연결하는 방법 첫번째다.

![](img/rive_ch6/rectangle_n_bones.png)

- 다음과 같이 객체와 본이 있을 때, 하이어라키에서 해당 본 아래로 객체를 집어넣으면 연결된다.
- 본을 회전시키거나, 이동하거나, 크기를 수정하면 연결된 객체도 같은 비율로 수정된다.
- 단, 위쪽의 작은 원을 선택해 속성을 수정할 경우, 크기 수정은 객체에 영향을 주지 않는다. 해당 원은 다른 본과 연결될 부분이기 때문이다.
- 단순한 연결이지만, 추후에 있을 연결방법보다 훨씬 효율적이다.
- 팔 같이 관절이 확실한 곳에 사용된다. 해당 방법은 벡터 이미지나 래스터 이미지 둘 다에 적용된다.

## 6.3 바인딩과 본에 무게주기Binding and Weighting bones
만든 디자인과 본을 연결하는 방법 두번째다. 해당 영상에는 벡터 이미지에 대해서만 다뒀다. 래스터 이미지는 살짝 다른 방식을 통해 진행해야 한다.

- 바인딩과 무게주기는 본으로 각 경로의 점을 조작할 수 있게 해준다.
- 바인딩: 경로 레이어와 뼈를 연결시킨다.
- 무게주기: 본이 움직일 때 각 점들이 얼마만큼의 영향을 받을지 정한다.

![](img/rive_ch6/path_bind_bone.png)

- 객체의 경로를 선택하고 Bind bones 버튼을 누르면 해당 모드로 들어간다. 이때 바인딩할 본을 선택한다. `Shift`를 누르고 클릭하면 다중 선택이 가능하다. 선택을 끝내면 `Enter`나 Done 버튼을 누른다.

![](img/rive_ch6/path_bind_bone_result.png)

- 그러면 본의 색상이 변경되고, Bind Bones에 본이 추가된다.
- Edit Vertices 버튼이나 `Enter`를 통해 모드로 들어가면 해당 점에 어떤 본을 기준으로 움직이는지 알 수 있다.

![](img/rive_ch6/edit_vertices_bind_bones.png)

- 가중치 수치를 변경해 특정 본에 받는 영향을 변경할 수 있다.
- 모든 점의 초기 가중치는 처음 선택한 본을 100%로 받는다.
- 가중치 수치를 변경해 본이 움직일 때 경로도 어떻게 움직일지 조절할 수 있다.
- 점의 핸들도 가중치를 줄 수 있다.

- Edit Vertices 모드에서 Weight 버튼이나 `Shift`/`↑` + `B`버튼을 통해 Weight 모드로 들어갈 수 있다. 해당 모드에서는 점 하나를 선택하고 위아래로 드래그하면 가중치 비중을 변경할 수 있다.

- 본은 경로를 변경하는 거지 모양을 변경하는 것은 아니다. 그라데이션 같은 경우 그 위치에 고정되기 때문에, 본에 따라 경로를 변경하면 해당 그라데이션이 짤릴 수도 있다.

## 6.4 조이스틱Joysticks
- 다양한 타임라인을 적용해 애니메이션을 만드는 제어 기능을 제공

![](img/rive_ch6/joystick_button.png)

- 해당 버튼을 누르거나 단축키 `J`를 통해 생성할 수 있다.
- 아트보드 아무데나 클릭하면 추가된다.

![](img/rive_ch6/joystick_inspector.png)

- Handle: 하얀 원의 위치를 퍼센트로 나타냈다. 해당 핸들 수치에 타임라인을 할당해 애니메이션을 제어한다.
- Position: 조이스틱의 위치
- Size: 조이스틱의 크기
- Origin: 조이스틱의 중심점. 다른 객체와 같다. (중점에 위치에 따라 조이스틱의 위치가 달라진다.)
- Draw in World space: 체크하면 줌인/줌아웃 레벨에 따라 조이스틱의 크기가 변화한다.
- Handle Source: 핸들의 위치를 제어할 수 있는 객체를 선택한다.

> 이하의 설명은 다음 영상 제약Constraints에서 할 예정이다. 애니메이션으로 넘어간다.

- X Axis와 Y Axis: 타임라인을 할당할 수 있다. 옆의 화살표 두 개 버튼은 애니메이션 재생 방향을 반전시킨다.
- 각 축에 타임라인을 할당하고, 새로운 타임라인에서 조이스틱을 움직이면 그 방향으로 움직이는 것을 볼 수 있다.

> 만약 특정 타임라인이   키를 확인해보자. 예로 Y 타임라인에 x축의 키도 설정돼 안움직이고 있을 수도 있다.

## 6.5 제약 개요Constraint Overview
- 한 객체의 속성에 변화에 따라 다른 객체의 속성도 변화시키는 방법

## 6.6 이동 제약Translation Constraint
- 한 객체의 위치 속성 변화에 따라 다른 객체의 위치 속성도 변화시킨다.

![](img/rive_ch6/translation_blue_circle.png)

- 다음과 같이 설정하면, 푸른 원은 더 이상 위치를 이동시킬 수 없다. 하지만 붉은 상자를 이동시키면, 푸른 원이 똑같이 움직인다.
- 옆의 눈 버튼을 누르면 제약을 끌 수 있다.
- Strength를 통해 제약의 강도를 설정할 수 있다. 예를 들어 120으로 설정하면 붉은 상자가 움직이는 것보다 더 멀리 움직일 수 있다. 애니메이션에서 사용할 수 있다.
- Offset을 키면 해당 객체가 다른 객체를 기준으로 자신의 위치를 유지하도록 한다. (즉, 사진처럼 포개지는 게 아니라 객체의 원 위치에서 제약이 적용된다.)
- Copy X 를 해제하면 X의 이동은 따라가지 않는다는 뜻이다. Copy Y도 Y에 대해 마찬가지
- Min, Max를 통해 이동 좌표를 제한할 수 있다.
- 애니메이션에서도 제약은 똑같이 적용된다. 
- 이동 외에 크기를 변형하거나 회전하는 것은 영향을 주지 않는다.


- 제약 대상을 선택하지 않은 상태에서 Min과 Max를 설정하면 이동 위치를 제한할 수 있다.
- 제약을 가진 객체를 복제하면 그 객체도 같은 제약을 가진다. (모든 제약에 해당된다.)

## 6.7 비율 제약Scale Constraint

![](img/rive_ch6/scale_blue_square.png)

- 설정 방법 자체는 이동 제약과 같다. 속성만 이동Transaltion이 아니라 크기Scale로 설정하면 된다.
- 다음과 같이 설정하면, 붉은 상자의 크기 비율이 달라질 때마다 푸른 상자의 크기 비율 또한 달라진다.
- 이하 설정은 6.6 이동 제약과 같다.

## 6.8 회전 제약Rotation Constraint

- 설정 방법 자체는 이동 제약과 같다. 속성만 회전Rotation으로 설정하면 된다.
- 위의 붉은 상자 푸른 상자 예시를 들어, 붉은 상자의 회전 각도가 달라질 때마다 푸른 상자의 회전 각도 또한 달라진다.
- 이하 설정은 6.6 이동 제약과 같다.

## 6.9 변형 제약Transform Constraint

- 설정 방법 자체는 이동 제약과 같다. 속성만 변형Translation으로 설정하면 된다.
- 해당 제약에서는 이동, 비율, 회전 모든 제약이 한 번에 적용된다.
- 해당 제약에서는 다른 제약에서는 없는 중심점을 설정할 수 있다. (자세한 설명은 6.10에서)
- 이하 설정은 6.6 이동 제약과 같다.

## 6.10 텍스트 필드의 변형 제약Transform Constraints with Text Fields

해당 영상에서는 사각형의 각 모서리를 본으로 바인딩하고, 이후 본에 텍스트를 대상으로 변형 제약을 적용했다. 이를 통해 텍스트의 길이에 따라 사각형의 길이를 자동으로 맞출 수 있게끔 하는 법을 설명한다.

뭐니뭐니 해도 직접 해보는 걸 추천한다! 아래는 기능에 대한 간략한 요약이다.

- 변형 제약은 기본적으로 타겟의 중심점을 제약의 중심점으로 설정한다.
- 하지만 중심점을 다른 곳으로 옮기면, 그 중심점을 기준으로 기본 위치를 설정할 수 있다. (회전, 비율도 마찬가지)

> 본을 그룹 안에 넣으면, 그 본의 위치는 그룹의 위치에 대한 상대 좌표로 나타난다. 이를 통해 본의 위치를 실제와 무관하게 (0, 0)으로 설정할 수 있다.

## 6.11 거리 제약Distance Constraint
- 객체들 사이의 최대, 최소, 정확한 길이의 거리를 설정하도록 한다.

![](img/rive_ch6/distance_constraints.png)

- 설정하면 위와 같이 붉은 선의 원이 나타난다. 이 원은 제약에서 설정한 거리를 보여준다. Distance 수치가 커지면 원도 커진다.
- 대상을 설정하면 붉은 선의 원이 그 대상(붉은 원)에 붙는 걸 확인할 수 있다.

![](img/rive_ch6/distance_constraints_closer.png)

- Closer로 설정하면, 대상과의 거리가 설정된 값보다 가까워질 수는 있지만, 그보다 멀어질 수는 없다.
  - 대상을 움직이면 제약을 가진 객체도 함께 따라 움직인다.
- Further로 설정하면, 대상과의 거리가 설정된 값보다 멀어질 수는 있지만, 그보다 가까워질 수는 없다.
  - 대상을 움직이면 제약을 가진 객체는 대상과 (거리를 지키기 위해) 멀어지려고 한다.
- Exact로 설정하면, 대상과의 거리가 설정된 값보다 멀어질 수 없고, 그보다 가까워질 수도 없다.
  - 대상을 움직이면 제약을 가진 객체도 함께 다라 움직인다.

## 6.12 IK 제약IK Constraint
- IK는 역운동학inverse kinematics이라는 뜻이다.
- 본은 일반적으로 각 개별 본들을 회전시켜 위치를 정하는데, 부모 본을 회전시킬 때 아이 본도 회전하게 된다. (forward kinematics라고 한다.)
- IK는 점을 움직여, 그 점의 위치에 따라 본이 회전하게 된다.

![](img/rive_ch6/ik_constraints.png)

- 위의 제약은 Root Bone이 아닌 그 아래에 있는 Bone1에 설정한 제약이다.
- 만든 객체(원이든 그룹이든)의 위치에 따라 본은 각도를 조절한다.
- Bone Count는 해당 제약에 영향을 받는 본의 갯수다. 하나만 지정하면 Bone1만 영향을 받는다.
- 현재는 오른쪽으로만 접히는데, Invert Direction을 체크하면 그 반대방향 - 왼쪽으로 접힌다.
- Invert Direction, Strength는 애니메이션에서 키로 설정이 가능하다.

## 6.13 경로 제약Follow Path Constraint

- 대상의 경로에 따라 객체의 이동을 제약시킨다.

![](img/rive_ch6/path_constraints.png)

- 위와 같이 설정하고, Distance 값을 변경하면 화살표가 원을 따라 이동하게 된다.
- Distance 0%는 경로의 시작점에 위치한다. Distance가 0%일 때 대상이 되는 경로의 시작점을 변경하면 객체가 바뀐 시작점으로 이동한다.
- 경로를 따르는 객체는 경로의 기울기에 따라 회전하는데, Orient를 해제하면 회전하지 않는다.
- 객체의 중점을 기준으로 경로를 따라간다. (중앙에 있으면 경로가 객체의 중앙에, 아래에 있으면 객체가 경로가 아래에)
- 경로가 여러개 있는 모양을 대상으로 선택하면, Distance의 비율에 따라 다른 경로를 따라간다. 예로 경로가 2개가 있다면, 50%전에는 첫번째 경로를, 50%후에는 두번째 경로를 따라간다.
  - 단, 따라가는 순서는 하이어라키의 순서에 따른다. 맨 위에 올라와 있는 것을 먼저 따라간다.

## 6.14 제약에서의 음수 강도Negative Strength on a Constraint
- 이동 제약의 경우, 대상의 반대로 움직인다. (대상이 왼쪽으로 움직이면 오른쪽으로 움직이고, 대상이 위로 움직이면 아래로 움직인다.)
- 비율 제약의 경우, 대상의 반대로 커지거나 작아진다. (대상이 커지면 작아지고, 대상이 작아지면 커진다.)
- 회전 제약의 경우, 대상의 반대로 회전한다. (대상이 90도로 회전하면 -90도로 회전한다.)

이외의 다른 제약에서도 사용할 수 있다.