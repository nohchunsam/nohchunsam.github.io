---
title: EP 9. 단계 생성
date: 2025-09-04 10:17:00 +0900
categories: CS
tags: ["CS", "컴퓨터 구조"]
---

[참고 영상](https://youtu.be/iwaZcikQWJM?si=CowzA1ASI0fBaUow)

지난 시간에 데이터 패스는 총 3가지 단계(가져오기 → PC 증가 → 실행)를 거친다고 했다. 이번에는 각 단계를 실행하는 신호(one-hot signal)를 어떻게 만들어내는지 알아보려고 한다.

## 디코더

여기서 **디코더**를 사용한다. 수를 하나받아 one-hot signal을 생성해 각 단계의 신호를 만들어낸다.

카운터(레지스터 + ALU)를 통해 어떤 단계에 있는지 확인하고, 디멀티플렉서로 그 단계의 수를 디코딩해 신호를 만들어낸다.

> 단, 회로를 시뮬레이션하는 프로그램 ModuleSim에서는 1×4멀티플렉서 밖에 없기 때문에 네 가지의 신호를 만들어낼 수 밖에 없다! 남은 신호 하나는 아무것도 하지 않을 예정이다.

![](img/computer-architecture/phase_generator.png)

하지만 세 개의 신호를 만들어내기 위해 가산기, 레지스터, 디멀티플렉서를 사용하는 건 너무 많다.

## 시프트 레지스터

대신 **시프트 레지스터**를 사용해 해결할 수 있다.

시프트 레지스터는 각 클럭 사이클마다 비트를 왼쪽으로 밀어낸다. 이 원리를 응용해, 비트를 0으로 초기화하는 대신 1로 초기화하고, 출력을 입력으로 사용해 루프를 만들어내면 신호를 만들어낼 수 있다.

| Cycle | Value |
|-------|-------|
| 0     | 001   |
| 1     | 010   |
| 2     | 100   |
| 3     | 001   |
| 4     | 010   |
| 5     | 100   |

이건 d 플립플롭을 통해 만들어낼 수 있다. 데이터 입력과 출력을 연결하고, 첫번째 비트의 초기화clear 로직을 0대신 1로 설정하도록 변경하면 시프트 레지스터가 만들어진다!!

![](img/computer-architecture/shift_register.png)