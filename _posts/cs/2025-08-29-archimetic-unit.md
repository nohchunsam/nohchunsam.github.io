---
title: EP 3. 수학 연산
date: 2025-08-29 16:01:00 +0900
categories: CS
tags: ["CS", "컴퓨터 구조"]
---

[참고 영상](https://youtu.be/h46kkh7z3yU?si=rFMGNVNzOyzNsBqx)

해당 영상에서는 불 논리 + 2진법 + 2의 보수를 통해 덧셈, 뺄셈 연산자를 만들고 회로로 8bit 연산자를 구현한다. 해당 영상에서는 NOR 게이트로 구현하는데,  마크에서는 NOR 게이트를 제공하기 때문이다. 여기서는 생략하고 핵심만 정리할 예정이다..

## 2진수 덧셈에 대한 이해

설명을 위해 두 입력을 A, B. 결과를 Q라고 하자.

```
A + B = Q
```

A와 B의 값에 따라 결과 Q는 다음과 같다.

| A | B | Q |
|---|---|---|
| 0 | 0 | 0 |
| 1 | 0 | 1 |
| 0 | 1 | 1 |
| 1 | 1 | 0 |

10진수라면 1+1=`2`로 표현하겠지만, 이진수는 `2`를 표현할 수가 없다. 정확히는 1+1=`10`이 된다.

> `10`은 2진수에서 2를 뜻한다.

이런 1+1 같은 상황을 위해 왼쪽으로 수를 올려주는 **올림Carry**이 필요하다. 

| A | B | C | Q |
|---|---|---|---|
| 0 | 0 | 0 | 0 |
| 1 | 0 | 0 | 1 |
| 0 | 1 | 0 | 1 |
| 1 | 1 | 1 | 0 |

제대로 된 결과가 나온다.

## 회로 - 반가산기

위의 `C`와 `Q`를 회로로 나타내기 각각 어떤 논리가 필요한지 알아보자.

- C는 둘 다 참일 때 참이다: **AND**
- Q는 둘 중 하나만 참일 때 참이다: **XOR**

AND 게이트와 XOR 게이트를 사용하면 덧셈의 결과를 얻을 수 있다. 이걸 회로로 나타내면 아래와 같다.

![](img/computer-architecture/half_adder.png)

위의 회로를 **반가산기Half adder**라고 한다.

> 반가산기를 nand나 nor만 쓰고 표현할 수 있다. 영상에는 nor만 사용해 반가산기 회로를 만든다.

## 회로 - 전가산기

그걸 해주는 게 전가산기다. 입력으로 들어온 A와 B, 또 올림수까지 더해주는 회로다. 다음과 같은 식으로 작동한다.

```
A + B + Cin = Cout, S
```

여기서 각 변수는 
- Cin: 입력 자리올림수 
- Cout: 출력 자리올림수
- S: 덧셈
이러하다.

> Cin과 Cout에 대한 [부연 설명](https://www.reddit.com/r/FPGA/comments/pk8ust/beginner_question_struggling_to_understand/). 예로 45 + 57을 한다고 하자. 우선 일의 자리끼리 더한다.
```
A = 5
B = 7
Cin = 0
S = 2
Cout = 1
```
이제 십의 자리의 수를 더하는데, 이때 일의 자리에서 나온 Cout을 Cin으로 사용한다.
```
A = 4
B = 5
Cin = 1  // 일의 자리에서 나온 Cout
S = 0
Cout = 1.
```
이런 식으로 자릿수를 옮겨가며 덧셈을 하기 위해 있다.


그런데 이제 `A + B`의 경우는 반가산기로 연산을 할 수 있다. `A + B의 결과 + Cin` 또한 반가산기로 가능하다.

**즉 반가산기 2개를 붙여 진짜 결과를 나타낼 수 있다는 것이다.**

회로로 표현하면 다음과 같다.

![](img/computer-architecture/full_adder.png)

> 영상에서는 전가산기도 nor만 사용해 만든다.

지금까지 만든 회로는 한자리, 즉 한 비트만 계산하도록 구성됐다. 8비트의 수를 계산하기 위해서는 8개의 전가산기가 필요하다.

![](img/computer-architecture/8bit_adder.png)

## 뺄셈

전에서 이야기했듯 `A - B`는 `A + (-B)`와 같다. 그러니 수 하나를 음수로 만들면 된다. 

... 재밌는 건, 덧셈을 시작할 때 맨 처음 0일 Cin을 1로 하면 B에 2의 보수를 적용할 수 있다.

별도의 모드용 회로(XOR 게이트)를 통해 뺄셈 모드를 설정할 수 있다.

![](img/computer-architecture/subtract_mode.png)