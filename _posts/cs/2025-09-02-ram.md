---
title: EP 6. RAM
date: 2025-09-02 10:10:00 +0900
categories: CS
tags: ["CS", "컴퓨터 구조"]
---

[참고 영상](https://youtu.be/wKvL-l5RQNw?si=s3vq5htcuerBtxyr)

이번 영상에서는 메모리 - Random Access Memory의 구조에 대해 알아본다.

## 메모리

![](img/computer-architecture/nram.png)

ModelSim에서 RAM 구조는 이렇다.

- 아래: 입력
- 위: 출력
- 오른쪽 아래 (초록선): write enable 신호
- 오른쪽 위 (파란선): 주소 입력

메모리에 필요한 신호와 연결은 다음과 같다.

![](img/computer-architecture/memory_signal.png)

- 우측 상단 멀티플렉서: 산술장치의 결과와 메모리의 결과 사이에서 하나를 선택한다.
- 좌측 상단 레지스터: 각 명령어의 일시적 복사본을 저장하는 곳
- 우측 중단 멀티플렉서: 주소 입력. 프로그램 카운터의 주소와 산술장치의 주소 사이에서 하나를 택한다.

우리는 지금까지 D 플립플롭을 통해 개별 비트bit를 저장하는 법을 알아봤다.

![](img/computer-architecture/single_enable_flipflop.png)

이제 enable 신호를 두개로 나눠, read enable 신호와 write enable 신호를 추가한다. 이를 통해 어떤 바이트를 읽을지 선택할 수 있다.

![](img/computer-architecture/rw_enable_flipflop.png)

메모리의 8bit, 즉 1 byte는 다음과 같이 표현된다. 하나의 D 플립플롭이 하나의 메모리 셀이다.

![](img/computer-architecture/memory_blocks.png)

> 위의 회로(전체)를 메모리 블록이라고 부르기도 한다.

메모리 블록의 출력을 보면 **버퍼**가 붙어있다. 여기에는 두 가지 이유가 있다.

1. 현실에서는 연결되지 않은 와이어에도 알 수 없는 전압이 흐를 수 있다. 0볼트, 0.5볼트, 3.4 볼트 등, 어느 값도 될 수 있다. 이런 불확실성을 방지하기 위해, 와이어를 0볼트에 연결된 **저항**에 연결해 전선 풀다운할 수 있다. 이러면 아무것도 연결되지 않은 와이어가 0볼트로 유지된다.

> 풀다운: 전압이 0을 유지

2. 각 메모리 블록은 이전 메모리 블록에서 입력을 받는다. 이 연결된 입력은 해당 메모리 블록의 출력과 짝을 이뤄 최종 결과를 생성한다. 이때 한번에 하나의 메모리 블록만 읽을 수 있게하면, 메모리 블록을 읽고 모든 것을 연결할 수 있다. 이러면 **멀티플렉서를 다는 것보다 더 간단한 회로를 만들 수 있다.**

## 디코더

주어진 주소에 대해 어떤 셀을, 어떠 행과 열을 활성화할지 알아내야 한다. 즉, 각 행/열은 하나의 하나의 와이어를 갖고, 어떤 와이어에 전원을 공급할지 선택해야 한다.

이 역할을 **디코더**가 해준다. 

사실 디코더는 **디멀티플렉서**의 특별한 경우다. 디멀티플렉서는 이름에서 볼 수 있듯 멀티플렉서의 반대로 작동하는데, 하나의 신호를 받으면 네 가지 가능한 출력을 출력한다.

디코더는 디멀티플렉서에 1을 항상 입력함으로써 사용할 수 있다. 이를 **one-hot encoding**이라고 한다. one-hot encoding에서는 한번에 하나의 와이어만 켜진다. 켜진 와이어는 인덱스가 주소값을 가지고 있고, 이걸 사용하면 된다.